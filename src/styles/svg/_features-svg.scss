@import "../styleLib/mixins";

.features-svg {
	position: relative;
	padding-top: 100%;

	svg {
		position: absolute;
		width: 100%;
		height: 100%;
		left: 0;
		right: 0;
		top: 0;
		bottom: 0;
	}

	&__circle {
		stroke: #D7D7EB;
		stroke-width: 2px;
	}

	&__circle-deco {
		&_first {
			fill: #64B7F3;
		}

		&_second {
			fill: #F3648F;
		}

		&_third {
			fill: #4A81EC;
		}

		&_fourth {
			fill: #EC7B4A;
		}

		&_fifth {
			fill: #3ED37A;
		}

		&_sixth {
			fill: #ECC84A;
		}
	}

	&__animated-circle {
		&_first {
			stroke: #4b4aef;
			animation-name: first-circle;
			stroke-dasharray: 500 1640;
			stroke-dashoffset: 800;
			animation-duration: 120s;
			animation-timing-function: linear;
			animation-iteration-count: infinite;
		}

		&_second {
			stroke: #ffca1c;
			animation-name: second-circle;
			stroke-dasharray: 400 1170;
			stroke-dashoffset: -200;
			animation-duration: 100s;
			animation-timing-function: linear;
			animation-iteration-count: infinite;
		}

		&_third {
			stroke: #3ecf78;
			animation-name: third-circle;
			animation-duration: 80s;
			stroke-dasharray: 240 700;
			stroke-dashoffset: 100;
			animation-timing-function: ease-in-out;
			animation-iteration-count: infinite;
		}
	}

	circle:not(.no-opacity), image {
		transition: opacity 300ms ease-in-out;
		opacity: 0;
	}

	&__testimonials {
		circle {
			stroke-dasharray: 20 5;
		}
	}

	&__user-info {
		position: absolute;
		left: 0;
		top: 0;
		z-index: 2;

		@include mobile-l {
			top: -40px;
			left: 50%;
			transform: translateX(-50%);
		}
	}
}

.user-info {
	padding: 14px 20px;
	display: grid;
	grid-template-areas:
		"photo        aside"
		"about       button";
	grid-template-columns: max-content max-content;
	grid-template-rows: 50px max-content;
	grid-column-gap: 35px;
	grid-row-gap: 16px;
	background: #fff;
	border-radius: 20px;
	width: max-content;
	position: absolute;

	@include mobile-l {
		padding: 7px 10px;
		grid-row-gap: 8px;
		grid-column-gap: 15px;
	}

	&__photo {
		width: 50px;
		height: 50px;
		position: relative;
		grid-area: photo;

		img {
			width: 100%;
			height: 100%;
			border-radius: 50%;
		}

		&:after {
			content: '';
			position: absolute;
			bottom: 0;
			right: 0;
			width: 12px;
			height: 12px;
			border: 2px solid #fff;
			border-radius: 50%;
		}

		&_online {
			&:after {
				background: #38C73E;
			}
		}

		&_offline {
			&:after {
				background: #e83f3f;
			}
		}
	}

	&__aside {
		display: flex;
		flex-direction: column;
		justify-self: end;
		grid-area: aside;
	}

	&__about {
		display: flex;
		flex-direction: column;
		justify-self: start;
		align-self: end;
		grid-area: about;
	}

	&__status {
		font-family: 'Poppins', sans-serif;
		font-weight: 500;
		font-size: 14px;
		align-self: end;
		margin-bottom: 5px;

		&_done {
			color: #38C73E;
		}

		&_pending {
			color: #f48625;
		}
	}

	&__rating {
		display: flex;
		gap: 3px;
		align-self: end;

		div {
			width: 14px;
			height: 14px;
		}

		&_3 {
			div:nth-of-type(1),
			div:nth-of-type(2),
			div:nth-of-type(3) {
				background: url("../../assets/images/shared/star_active.svg");
				background-size: contain;
			}

			div:nth-of-type(4),
			div:nth-of-type(5) {
				background: url("../../assets/images/shared/star_inactive.svg");
				background-size: contain;
			}
		}

		&_4 {
			div:nth-of-type(1),
			div:nth-of-type(2),
			div:nth-of-type(3),
			div:nth-of-type(4) {
				background: url("../../assets/images/shared/star_active.svg");
				background-size: contain;
			}

			div:nth-of-type(5) {
				background: url("../../assets/images/shared/star_inactive.svg");
				background-size: contain;
			}
		}

		&_5 {
			div:nth-of-type(1),
			div:nth-of-type(2),
			div:nth-of-type(3),
			div:nth-of-type(4),
			div:nth-of-type(5) {
				background: url("../../assets/images/shared/star_active.svg");
				background-size: contain;
			}
		}
	}

	&__name {
		font-family: 'Poppins', sans-serif;
		font-weight: 600;
		font-size: 16px;
		letter-spacing: 1px;
		color: #3B4EB3;
	}

	&__position {
		font-family: 'Poppins', sans-serif;
		font-weight: 400;
		font-size: 14px;
		color: #7F86AE;
	}

	&__button {
		width: 100px;
		height: 35px;
		border-radius: 6px;
		cursor: pointer;
		align-self: end;
		justify-self: end;
		grid-area: button;
	}
}

@keyframes first-circle {
	0% {
		stroke-dasharray: 500 1640;
		stroke-dashoffset: 100;
	}

	25% {
		stroke-dasharray: 2140 0;
	}

	50% {
		stroke-dasharray: 840 1300;
		stroke-dashoffset: 0;
	}

	100% {
		stroke-dasharray: 500 1640;
		stroke-dashoffset: 100;
	}
}

@keyframes second-circle {
	0% {
		stroke-dasharray: 400 1170;
		stroke-dashoffset: -200;
	}

	25% {
		stroke-dasharray: 1570 0;
		stroke-dashoffset: 380;
	}

	50% {
		stroke-dasharray: 670 900;
		stroke-dashoffset: 200;
	}

	75% {
		stroke-dasharray: 670 900;
		stroke-dashoffset: 300;
	}

	100% {
		stroke-dasharray: 400 1700;
		stroke-dashoffset: -200;
	}
}

@keyframes third-circle {
	0% {
		stroke-dasharray: 240 700;
		stroke-dashoffset: 100;
	}

	25% {
		stroke-dashoffset: 800;
	}

	50% {
		stroke-dasharray: 440 500;
		stroke-dashoffset: 600;
	}

	75% {
		stroke-dasharray: 340 600;
		stroke-dashoffset: 300;
	}

	100% {
		stroke-dasharray: 240 700;
		stroke-dashoffset: 100;
	}
}